<!-- CSS -->
<style>
.legend-toggle {
    position: absolute;
    top: 10px;
    right: 60px; /* digeser supaya tidak menempel dengan search */
    z-index: 1000;
}

.legend {
    position: absolute;
    top: 50px;
    right: 10px;
    background: white;
    padding: 10px;
    border-radius: 6px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    z-index: 1000;
    max-width: 250px;
    font-size: 14px;
    display: none;
}

/* Responsive mode untuk HP */
@media (max-width: 768px) {
  .legend {
    width: 95%;
    left: 2.5%;
    right: auto;
    top: auto;
    bottom: 10px;
    max-height: 200px;
    overflow-y: auto;
  }
}
</style>

<!-- HTML -->
<button class="legend-toggle">ðŸ“‘ Daftar Isi</button>
<div class="legend" id="legendBox">
  <h4>Layer</h4>
  <label><input type="checkbox" id="toggleKecamatan"> Batas Kecamatan</label>
  <hr>
  <h4>Lokasi</h4>
  <ul>
    <li><a href="#" onclick="flyToMarker('a')">A : Pipa Air Well 5C-58</a></li>
    <li><a href="#" onclick="flyToMarker('b')">B : BEKA25_0007</a></li>
    <li><a href="#" onclick="flyToMarker('c')">C : BEKA_#71</a></li>
    <li><a href="#" onclick="flyToMarker('d')">D : P_MINA25_0017HW</a></li>
    <li><a href="#" onclick="flyToMarker('e')">E : 9D-28E</a></li>
    <li><a href="#" onclick="flyToMarker('f')">F : KB 500</a></li>
  </ul>
</div>

<!-- JS -->
<script>
const markers = {
  a: L.marker([0.7032, 101.4856]).addTo(map),
  b: L.marker([0.6815, 101.4478]).addTo(map),
  c: L.marker([0.7120, 101.4670]).addTo(map),
  d: L.marker([0.6905, 101.4589]).addTo(map),
  e: L.marker([0.7032, 101.4856]).addTo(map),
  f: L.marker([0.6845, 101.1115]).addTo(map),
};

function flyToMarker(key) {
  map.flyTo(markers[key].getLatLng(), 16, { animate: true, duration: 1.5 });
}
</script>
